# DSGVO Student Observation System

Ein DSGVO-konformes Sch√ºlerbeobachtungsprogramm mit P2P-Synchronisation zwischen Ger√§ten.

## üìã Project Overview

**Technology Stack:**
- **Frontend:** React 18 + TypeScript + TailwindCSS
- **Backend:** Tauri 2.0 (Rust)
- **Database:** SQLite with encryption
- **State Management:** Zustand
- **P2P Sync:** mDNS + mTLS
- **Security:** AES-256-GCM encryption

## üöÄ Quick Commands

### Development
```bash
# Start development server
npm run tauri:dev

# Frontend only
npm run dev

# Build for production
npm run tauri:build
```

### Testing
```bash
# Run all tests
npm test

# Run with UI
npm run test:ui

# Lint code
npm run lint
npm run lint:fix
```

### Backend (Rust)
```bash
cd src-tauri

# Build debug
cargo build

# Build release
cargo build --release

# Run tests
cargo test

# Run clippy
cargo clippy
```

## üîß Development Setup

### System Requirements
- **Rust:** 1.70+
- **Node.js:** 18+
- **System dependencies:** libwebkit2gtk-4.0-dev, build-essential, etc.

### Installation (Debian/Ubuntu)
```bash
# Install system dependencies
sudo apt update && sudo apt install -y \
    build-essential \
    libssl-dev \
    pkg-config \
    libgtk-3-dev \
    libayatana-appindicator3-dev \
    librsvg2-dev \
    libwebkit2gtk-4.0-dev

# Install Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# Install dependencies
npm install
```

## üèóÔ∏è Architecture

### Key Components
- **Frontend:** Modern React with TypeScript
- **Backend:** Secure Rust-based Tauri application  
- **Database:** Encrypted SQLite with audit trails
- **Sync:** P2P synchronization without servers
- **Security:** End-to-end encryption, GDPR compliance

### Database Schema
```sql
-- Core entities
CREATE TABLE students (
    id INTEGER PRIMARY KEY,
    class_id INTEGER NOT NULL,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    status TEXT DEFAULT 'active'
);

CREATE TABLE observations (
    id INTEGER PRIMARY KEY,
    student_id INTEGER NOT NULL,
    text_encrypted BLOB NOT NULL,  -- AES-256-GCM
    category TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

## üõ°Ô∏è GDPR Compliance Features

### Privacy by Design
- **Data Minimization:** Only essential fields required
- **Purpose Limitation:** Strict educational use only
- **Storage Limitation:** Configurable retention periods
- **Security:** AES-256 encryption + mTLS transport

### Data Subject Rights
- **Article 15:** Complete data export (JSON/CSV/PDF)
- **Article 16:** Correction with audit trail
- **Article 17:** Secure deletion with verification
- **Article 20:** Data portability in structured formats

### Security Measures
- ‚úÖ End-to-end encryption (AES-256-GCM)
- ‚úÖ Mutual TLS for P2P communication
- ‚úÖ OS keystore integration
- ‚úÖ Immutable audit logging
- ‚úÖ Automatic data anonymization

## üì± Key Features

### Implemented ‚úÖ
- **Student Management:** Class-based organization
- **Encrypted Observations:** Secure note-taking
- **P2P Synchronization:** Device-to-device sync
- **Search & Filter:** Full-text search capabilities
- **Export Functions:** Multiple format support
- **Audit Trail:** Complete operation logging

### In Development üîÑ
- **Multi-user Support:** Local accounts with 2FA
- **Advanced Exports:** PDF templates, Excel formats
- **Plugin System:** Custom categories and workflows
- **Mobile Companion:** Read-only mobile access

## üß™ Testing Strategy

### Test Pyramid
```
         E2E Tests (10%)
    Integration Tests (20%)
      Unit Tests (70%)
```

### Critical Test Scenarios
- **P2P Sync:** Conflict resolution, network interruption
- **GDPR:** Automated anonymization, audit immutability
- **Security:** Encryption integrity, key rotation
- **Performance:** Large dataset handling, sync speed

## üì¶ Build & Distribution

### Supported Platforms
- **Windows:** MSIX, NSIS Installer, Portable
- **macOS:** DMG, PKG, App Store
- **Linux:** AppImage, Deb, RPM, Snap

### Release Process
```bash
# Tag release
git tag v1.0.0

# Build for all platforms
npm run tauri:build

# Sign binaries (platform-specific)
# Create installers
# Upload to distribution channels
```

## üîê Security Considerations

### Threat Model
- **Data at Rest:** AES-256-GCM encryption
- **Data in Transit:** mTLS with certificate pinning
- **Access Control:** Device pairing with QR codes
- **Audit:** Immutable logging of all operations

### Security Best Practices
- Regular security audits
- Automated vulnerability scanning
- Secure key management
- Incident response procedures

## üìö Documentation

### Available Resources
- **User Guide:** Installation and daily usage
- **Admin Manual:** System configuration and management
- **Developer Docs:** API reference and architecture
- **GDPR Guide:** Compliance procedures and requirements

## ü§ù Contributing

### Development Workflow
1. Fork repository
2. Create feature branch: `feature/description`
3. Implement with tests and documentation
4. Run quality gates: `npm run lint && npm test`
5. Submit pull request with detailed description

### Code Standards
- **Rust:** `cargo fmt` + `cargo clippy`
- **TypeScript:** ESLint + Prettier
- **Commits:** Conventional Commits format
- **Coverage:** Minimum 80% for new features

## üó∫Ô∏è Roadmap

### Version 1.0.0 (Current)
- ‚úÖ Core functionality complete
- ‚úÖ GDPR compliance implemented
- ‚úÖ P2P synchronization stable
- üîÑ Comprehensive testing
- üîÑ User documentation

### Version 1.1.0 (Next)
- ‚è≥ Multi-user support
- ‚è≥ Advanced export formats
- ‚è≥ Plugin system
- ‚è≥ Mobile companion app

### Version 2.0.0 (Future)
- ‚è≥ Offline-first architecture
- ‚è≥ Advanced analytics
- ‚è≥ School system integration
- ‚è≥ Collaboration features

## ‚ö†Ô∏è Important Notes

### Legal Compliance
- Ensure local privacy law compliance
- Obtain required parental consents
- Regular compliance audits recommended
- Data breach notification procedures in place

### Performance Guidelines
- Database optimization for large datasets
- P2P sync efficiency monitoring
- Memory usage optimization
- Battery usage considerations

---

**Repository:** https://github.com/Kikk79/DSGVO
**License:** MIT
**Maintainer:** Klaus (lettenb.kl@gmail.com)
